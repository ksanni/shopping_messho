import React, { useState,useContext } from 'react'
import { CiSearch } from "react-icons/ci";
import { BsXLg } from "react-icons/bs";
import { TfiMobile } from "react-icons/tfi";
import { CgShoppingCart } from "react-icons/cg";
import { AiOutlineUser } from "react-icons/ai";
import { Link } from 'react-router-dom';
import '../Navbar/navbar1.css'
import { ProductContext } from '../Context/Context';

function Navbar1() {
  
    const { products,setSearchData,searchData } = useContext(ProductContext);
    const totalQty = products.reduce((total, product) => {
        return total + (product.inCart ? product.qty : 0);
    }, 0);

   function searchFun(e){
    setSearchData(e.target.value)
   }
    return (
        <nav className='navBar'>
            <div className="section-1">
                <div className='logo'>
                    <Link to="/">
                        <img src="data:image/svg+xml;utf8,%3Csvg%20viewBox%3D%220%200%2087%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22156%22%20height%3D%2236%22%20iconsize%3D%2220%22%20class%3D%22sc-bcXHqe%20hpUsVz%22%3E%3Cpath%20d%3D%22M12.844%206.814c1.453.011%202.677.516%203.685%201.507%201.02.998%201.523%202.188%201.512%203.593L18%2018.522c-.006.788-.668%201.423-1.488%201.423-.815-.006-1.471-.646-1.465-1.434l.04-6.608a2.048%202.048%200%2000-.661-1.57c-.428-.43-.967-.646-1.6-.646a2.227%202.227%200%2000-1.664.686c-.416.42-.621.997-.627%201.581l-.035%206.511c-.006.8-.68%201.446-1.506%201.44-.826-.006-1.494-.657-1.488-1.457l.04-6.55a2.21%202.21%200%2000-.603-1.56c-.45-.464-1.002-.69-1.658-.696a2.236%202.236%200%2000-1.611.629c-.434.425-.668.946-.668%201.558l-.041%206.602c-.006.794-.674%201.434-1.494%201.429-.82-.006-1.477-.652-1.471-1.445l.041-6.58a4.928%204.928%200%20011.29-3.32c1.083-1.168%202.419-1.752%203.972-1.74%201.482.01%202.748.526%203.761%201.575%201.043-1.043%202.297-1.542%203.78-1.536zm18.682%207.316l-8.479-.052c.07%201.02.41%201.83%201.008%202.436.603.596%201.377.902%202.32.907.738.006%201.348-.159%201.834-.499.287-.204.598-.504.932-.918a1.434%201.434%200%20011.787-.362l.088.045a1.32%201.32%200%2001.369%202.034%207.51%207.51%200%2001-.287.318%206.416%206.416%200%2001-1.389%201.11%205.61%205.61%200%2001-1.594.63c-.574.13-1.19.198-1.857.192-1.91-.011-3.445-.617-4.594-1.813-1.148-1.202-1.717-2.794-1.705-4.772.012-1.96.586-3.542%201.717-4.743%201.143-1.19%202.643-1.78%204.512-1.763%201.886.012%203.375.601%204.459%201.774%201.078%201.162%201.61%202.76%201.6%204.806a.703.703%200%2001-.721.67zm-2.32-2.359c-.405-1.53-1.395-2.3-2.972-2.306a2.985%202.985%200%2000-1.013.153%202.928%202.928%200%2000-.867.453c-.258.198-.48.436-.668.714a3.24%203.24%200%2000-.428.952l5.947.034zM45.64%2014.13l-8.478-.052c.07%201.02.41%201.83%201.007%202.436.604.596%201.377.902%202.32.907.739.006%201.348-.159%201.835-.499.287-.204.597-.504.931-.918a1.434%201.434%200%20011.787-.362l.088.045a1.32%201.32%200%2001.37%202.034%207.442%207.442%200%2001-.288.318%206.416%206.416%200%2001-1.388%201.11%205.61%205.61%200%2001-1.594.63c-.574.13-1.19.198-1.857.192-1.91-.011-3.446-.617-4.594-1.813-1.149-1.202-1.717-2.794-1.705-4.772.012-1.96.586-3.542%201.717-4.743%201.142-1.19%202.642-1.78%204.511-1.763%201.887.012%203.375.601%204.46%201.774%201.077%201.162%201.61%202.76%201.599%204.806a.703.703%200%2001-.72.67zm-2.32-2.359c-.405-1.53-1.395-2.3-2.971-2.306a2.985%202.985%200%2000-1.014.153%202.928%202.928%200%2000-1.535%201.167%203.24%203.24%200%2000-.427.952l5.947.034zM61.976%200c.838.006%201.506.663%201.5%201.474l-.062%206.478c1.084-.93%202.277-1.14%203.578-1.134%201.3.006%202.66.566%203.539%201.501.75.81%201.113%202.103%201.101%203.871l-.047%206.302c-.005.81-.685%201.456-1.523%201.45-.838-.005-1.506-.663-1.5-1.473l.041-6.024c.006-1.014-.176-1.751-.54-2.204-.368-.46-.966-.692-1.792-.692-1.055-.006-1.805.306-2.238.935-.428.64-.645%201.74-.657%203.298l-.035%204.664c-.005.81-.685%201.457-1.523%201.451-.838-.005-1.506-.663-1.5-1.473l.129-16.962c.012-.822.691-1.468%201.53-1.462zM73.44%2013.46c.012-1.751.668-3.236%201.975-4.454%201.3-1.219%202.888-1.825%204.746-1.808%201.869.011%203.451.64%204.746%201.887%201.277%201.241%201.91%202.766%201.898%204.562-.012%201.82-.668%203.332-1.974%204.556-1.313%201.213-2.918%201.808-4.81%201.797-1.882-.012-3.446-.646-4.712-1.899-1.254-1.235-1.88-2.782-1.869-4.641zm2.96.068c-.007%201.213.316%202.17.984%202.879.68.72%201.582%201.082%202.707%201.088%201.13.006%202.039-.34%202.718-1.043.68-.703%201.026-1.638%201.037-2.816.006-1.18-.322-2.12-.996-2.828-.68-.714-1.582-1.083-2.707-1.088-1.107-.006-2.004.345-2.695%201.054-.691.708-1.037%201.626-1.049%202.754zm-19.405-.257c.907.664%201.363%201.53%201.38%202.582v.044c0%201.286-.507%202.348-1.453%203.067-.868.66-2.073%201.008-3.476%201.008-1.492%200-3.064-.42-4.427-1.177a1.362%201.362%200%2001-.485-1.967%201.443%201.443%200%20011.2-.626c.248%200%20.49.06.704.18%201.042.577%202.107.882%203.076.882%201.532%200%201.695-.74%201.695-1.062v-.044c0-.648-.884-.953-2.332-1.378-.101-.033-.197-.06-.293-.087-.963-.267-1.965-.589-2.743-1.144-.924-.665-1.374-1.537-1.374-2.67v-.044c0-2.326%201.949-3.955%204.737-3.955%201.172%200%202.45.283%203.617.806.36.164.642.463.766.834a1.36%201.36%200%2001-.113%201.106l-.006.005a1.449%201.449%200%2001-1.256.714c-.214%200-.417-.043-.608-.13-.907-.41-1.763-.627-2.479-.627-.912%200-1.504.37-1.504.948v.043c0%20.67%201.172%201.03%202.411%201.417l.242.076c.952.284%201.938.632%202.721%201.199z%22%20fill%3D%22%23F43397%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E" />
                    </Link>
                </div>
                <div className='searchBar'>
                    <span > <CiSearch className='search' /></span>
                    <input type="text" value={searchData} onChange={searchFun} placeholder="Try Saree, Kurti or Search by Product Code" />
                    <span ><BsXLg className='delete' /></span>
                </div>
            </div>

            <div className="section-2">
                <div className="section-2a">
                    <div className="downloadApp">
                        <a href=""><span><TfiMobile className='downloadAppSvg' /></span>Download App</a>

                    </div>
                    <div className="supplier">
                        <a href="">Become a Supplier</a>
                    </div>
                </div>
                <div className='section-2b'>
                    <div className='profile'>
                        <li><AiOutlineUser className='profile-cartSvg' /> </li>
                        <li className='adjustProfile-Cart'><Link to="/Profile">Profile</Link></li>
                        <div className='profileLogin'>
                            <h3>Welcome Messho</h3>
                            <p> access your account</p>
                            <Link to='/sinup'>
                                <button className="log">Sin Up</button>
                            </Link>
                            <Link to='/login'>
                                <button className="log">Log In</button>
                            </Link>
                        </div>
                    </div>
                    <Link to="/Cart">
                        <div className='cart'>
                            <div className='cart_emoji'>
                                <span><CgShoppingCart className='profile-cartSvg' /></span>
                                <span>{totalQty}</span>
                            </div>

                            <li className='adjustProfile-Cart'>Cart </li>
                        </div>
                    </Link>

                </div>
            </div>
        </nav>
    )
}

export default Navbar1
